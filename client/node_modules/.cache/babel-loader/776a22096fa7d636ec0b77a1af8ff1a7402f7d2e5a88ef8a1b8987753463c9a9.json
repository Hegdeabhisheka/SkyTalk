{"ast":null,"code":"var _jsxFileName = \"A:\\\\Placment\\\\SkyTalk\\\\client\\\\src\\\\components\\\\Chat\\\\Chat.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { chatAPI, friendsAPI } from '../../services/api';\nimport { initSocket } from '../../services/socket';\nimport ChatWindow from './ChatWindow';\nimport '../../styles/chat.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Chat() {\n  _s();\n  const [friends, setFriends] = useState([]);\n  const [selectedFriend, setSelectedFriend] = useState(null);\n  const [conversations, setConversations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [socket, setSocket] = useState(null);\n  const [onlineUsers, setOnlineUsers] = useState(new Set());\n  useEffect(() => {\n    // Initialize socket\n    const newSocket = initSocket();\n    setSocket(newSocket);\n\n    // Load friends and conversations\n    loadData();\n\n    // Socket event listeners\n    if (newSocket) {\n      const handleUserOnline = ({\n        userId\n      }) => {\n        setOnlineUsers(prev => new Set([...prev, userId]));\n      };\n      const handleUserOffline = ({\n        userId\n      }) => {\n        setOnlineUsers(prev => {\n          const updated = new Set(prev);\n          updated.delete(userId);\n          return updated;\n        });\n      };\n      const handleReceiveMessage = () => {\n        console.log('New message received');\n        loadConversations();\n        if (window.sidebarRefresh) {\n          window.sidebarRefresh();\n        }\n      };\n      newSocket.on('user-online', handleUserOnline);\n      newSocket.on('user-offline', handleUserOffline);\n      newSocket.on('receive-message', handleReceiveMessage);\n      return () => {\n        if (newSocket) {\n          newSocket.off('user-online', handleUserOnline);\n          newSocket.off('user-offline', handleUserOffline);\n          newSocket.off('receive-message', handleReceiveMessage);\n        }\n      };\n    }\n  }, []);\n  const loadData = async () => {\n    setLoading(true);\n    try {\n      const [friendsRes, conversationsRes] = await Promise.all([friendsAPI.getFriendsList(), chatAPI.getConversations()]);\n      setFriends(friendsRes.data.friends);\n      setConversations(conversationsRes.data.conversations);\n    } catch (error) {\n      console.error('Error loading data:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const loadConversations = async () => {\n    try {\n      const response = await chatAPI.getConversations();\n      setConversations(response.data.conversations);\n    } catch (error) {\n      console.error('Error loading conversations:', error);\n    }\n  };\n  const handleSelectFriend = friend => {\n    console.log('Selected friend:', friend);\n    setSelectedFriend(friend);\n  };\n  const formatTime = timestamp => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffMs = now - date;\n    const diffMins = Math.floor(diffMs / 60000);\n    const diffHours = Math.floor(diffMs / 3600000);\n    const diffDays = Math.floor(diffMs / 86400000);\n    if (diffMins < 1) return 'Just now';\n    if (diffMins < 60) return `${diffMins}m ago`;\n    if (diffHours < 24) return `${diffHours}h ago`;\n    if (diffDays < 7) return `${diffDays}d ago`;\n    return date.toLocaleDateString();\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: 'center',\n        padding: '3rem'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: '1rem',\n          color: 'var(--gray-600)'\n        },\n        children: \"Loading chat...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fade-in\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"content-title\",\n        children: \"\\uD83D\\uDCAC Messages\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"content-subtitle\",\n        children: \"Chat with your friends in real-time\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"chat-container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-list\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-list-header\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"chat-list-title\",\n            children: \"Chats\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-list-content\",\n          children: friends.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"empty-state\",\n            style: {\n              padding: '2rem 1rem'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"empty-state-icon\",\n              style: {\n                fontSize: '2rem'\n              },\n              children: \"\\uD83D\\uDC65\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"empty-state-text\",\n              style: {\n                fontSize: '0.875rem'\n              },\n              children: \"Add friends to start chatting\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this) : friends.map((friend, index) => {\n            const conversation = conversations.find(conv => conv.friend.id === friend.id);\n            const isOnline = onlineUsers.has(friend.id);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `conversation-item ${(selectedFriend === null || selectedFriend === void 0 ? void 0 : selectedFriend.id) === friend.id ? 'active' : ''} stagger-item`,\n              style: {\n                animationDelay: `${index * 0.05}s`\n              },\n              onClick: () => handleSelectFriend(friend),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"conversation-avatar\",\n                children: [friend.username.charAt(0).toUpperCase(), isOnline && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"online-indicator\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 36\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 149,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"conversation-info\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"conversation-name\",\n                  children: friend.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 154,\n                  columnNumber: 23\n                }, this), conversation && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"conversation-preview\",\n                  children: conversation.lastMessage\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 156,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 153,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"conversation-meta\",\n                children: conversation && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"conversation-time\",\n                    children: formatTime(conversation.timestamp)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 27\n                  }, this), conversation.unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"unread-badge\",\n                    children: conversation.unreadCount\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 168,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 21\n              }, this)]\n            }, friend.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 19\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), selectedFriend ? /*#__PURE__*/_jsxDEV(ChatWindow, {\n        friend: selectedFriend,\n        socket: socket,\n        isOnline: onlineUsers.has(selectedFriend.id)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"chat-window\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"chat-empty-state\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"chat-empty-icon\",\n            children: \"\\uD83D\\uDCAC\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"chat-empty-title\",\n            children: \"Select a friend to start chatting\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"chat-empty-text\",\n            children: \"Choose a conversation from the list to begin messaging\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 115,\n    columnNumber: 5\n  }, this);\n}\n_s(Chat, \"xz3yz0YK762uQhQ27//AYEp126s=\");\n_c = Chat;\nexport default Chat;\nvar _c;\n$RefreshReg$(_c, \"Chat\");","map":{"version":3,"names":["React","useState","useEffect","chatAPI","friendsAPI","initSocket","ChatWindow","jsxDEV","_jsxDEV","Fragment","_Fragment","Chat","_s","friends","setFriends","selectedFriend","setSelectedFriend","conversations","setConversations","loading","setLoading","socket","setSocket","onlineUsers","setOnlineUsers","Set","newSocket","loadData","handleUserOnline","userId","prev","handleUserOffline","updated","delete","handleReceiveMessage","console","log","loadConversations","window","sidebarRefresh","on","off","friendsRes","conversationsRes","Promise","all","getFriendsList","getConversations","data","error","response","handleSelectFriend","friend","formatTime","timestamp","date","Date","now","diffMs","diffMins","Math","floor","diffHours","diffDays","toLocaleDateString","style","textAlign","padding","children","className","fileName","_jsxFileName","lineNumber","columnNumber","marginTop","color","length","fontSize","map","index","conversation","find","conv","id","isOnline","has","animationDelay","onClick","username","charAt","toUpperCase","lastMessage","unreadCount","_c","$RefreshReg$"],"sources":["A:/Placment/SkyTalk/client/src/components/Chat/Chat.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { chatAPI, friendsAPI } from '../../services/api';\r\nimport { initSocket } from '../../services/socket';\r\nimport ChatWindow from './ChatWindow';\r\nimport '../../styles/chat.css';\r\n\r\nfunction Chat() {\r\n  const [friends, setFriends] = useState([]);\r\n  const [selectedFriend, setSelectedFriend] = useState(null);\r\n  const [conversations, setConversations] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [socket, setSocket] = useState(null);\r\n  const [onlineUsers, setOnlineUsers] = useState(new Set());\r\n\r\n  useEffect(() => {\r\n    // Initialize socket\r\n    const newSocket = initSocket();\r\n    setSocket(newSocket);\r\n\r\n    // Load friends and conversations\r\n    loadData();\r\n\r\n    // Socket event listeners\r\n    if (newSocket) {\r\n      const handleUserOnline = ({ userId }) => {\r\n        setOnlineUsers(prev => new Set([...prev, userId]));\r\n      };\r\n\r\n      const handleUserOffline = ({ userId }) => {\r\n        setOnlineUsers(prev => {\r\n          const updated = new Set(prev);\r\n          updated.delete(userId);\r\n          return updated;\r\n        });\r\n      };\r\n\r\n      const handleReceiveMessage = () => {\r\n        console.log('New message received');\r\n        loadConversations();\r\n        if (window.sidebarRefresh) {\r\n          window.sidebarRefresh();\r\n        }\r\n      };\r\n\r\n      newSocket.on('user-online', handleUserOnline);\r\n      newSocket.on('user-offline', handleUserOffline);\r\n      newSocket.on('receive-message', handleReceiveMessage);\r\n\r\n      return () => {\r\n        if (newSocket) {\r\n          newSocket.off('user-online', handleUserOnline);\r\n          newSocket.off('user-offline', handleUserOffline);\r\n          newSocket.off('receive-message', handleReceiveMessage);\r\n        }\r\n      };\r\n    }\r\n  }, []);\r\n\r\n  const loadData = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const [friendsRes, conversationsRes] = await Promise.all([\r\n        friendsAPI.getFriendsList(),\r\n        chatAPI.getConversations()\r\n      ]);\r\n\r\n      setFriends(friendsRes.data.friends);\r\n      setConversations(conversationsRes.data.conversations);\r\n    } catch (error) {\r\n      console.error('Error loading data:', error);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const loadConversations = async () => {\r\n    try {\r\n      const response = await chatAPI.getConversations();\r\n      setConversations(response.data.conversations);\r\n    } catch (error) {\r\n      console.error('Error loading conversations:', error);\r\n    }\r\n  };\r\n\r\n  const handleSelectFriend = (friend) => {\r\n    console.log('Selected friend:', friend);\r\n    setSelectedFriend(friend);\r\n  };\r\n\r\n  const formatTime = (timestamp) => {\r\n    const date = new Date(timestamp);\r\n    const now = new Date();\r\n    const diffMs = now - date;\r\n    const diffMins = Math.floor(diffMs / 60000);\r\n    const diffHours = Math.floor(diffMs / 3600000);\r\n    const diffDays = Math.floor(diffMs / 86400000);\r\n\r\n    if (diffMins < 1) return 'Just now';\r\n    if (diffMins < 60) return `${diffMins}m ago`;\r\n    if (diffHours < 24) return `${diffHours}h ago`;\r\n    if (diffDays < 7) return `${diffDays}d ago`;\r\n    return date.toLocaleDateString();\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div style={{ textAlign: 'center', padding: '3rem' }}>\r\n        <div className=\"spinner\"></div>\r\n        <p style={{ marginTop: '1rem', color: 'var(--gray-600)' }}>Loading chat...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"fade-in\">\r\n      <div className=\"content-header\">\r\n        <h1 className=\"content-title\">ðŸ’¬ Messages</h1>\r\n        <p className=\"content-subtitle\">Chat with your friends in real-time</p>\r\n      </div>\r\n\r\n      <div className=\"chat-container\">\r\n        {/* Chat List */}\r\n        <div className=\"chat-list\">\r\n          <div className=\"chat-list-header\">\r\n            <h2 className=\"chat-list-title\">Chats</h2>\r\n          </div>\r\n          <div className=\"chat-list-content\">\r\n            {friends.length === 0 ? (\r\n              <div className=\"empty-state\" style={{ padding: '2rem 1rem' }}>\r\n                <div className=\"empty-state-icon\" style={{ fontSize: '2rem' }}>ðŸ‘¥</div>\r\n                <p className=\"empty-state-text\" style={{ fontSize: '0.875rem' }}>\r\n                  Add friends to start chatting\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              friends.map((friend, index) => {\r\n                const conversation = conversations.find(\r\n                  conv => conv.friend.id === friend.id\r\n                );\r\n                const isOnline = onlineUsers.has(friend.id);\r\n\r\n                return (\r\n                  <div\r\n                    key={friend.id}\r\n                    className={`conversation-item ${selectedFriend?.id === friend.id ? 'active' : ''} stagger-item`}\r\n                    style={{ animationDelay: `${index * 0.05}s` }}\r\n                    onClick={() => handleSelectFriend(friend)}\r\n                  >\r\n                    <div className=\"conversation-avatar\">\r\n                      {friend.username.charAt(0).toUpperCase()}\r\n                      {isOnline && <div className=\"online-indicator\"></div>}\r\n                    </div>\r\n                    <div className=\"conversation-info\">\r\n                      <div className=\"conversation-name\">{friend.username}</div>\r\n                      {conversation && (\r\n                        <div className=\"conversation-preview\">\r\n                          {conversation.lastMessage}\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"conversation-meta\">\r\n                      {conversation && (\r\n                        <>\r\n                          <div className=\"conversation-time\">\r\n                            {formatTime(conversation.timestamp)}\r\n                          </div>\r\n                          {conversation.unreadCount > 0 && (\r\n                            <div className=\"unread-badge\">\r\n                              {conversation.unreadCount}\r\n                            </div>\r\n                          )}\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                );\r\n              })\r\n            )}\r\n          </div>\r\n        </div>\r\n\r\n        {/* Chat Window */}\r\n        {selectedFriend ? (\r\n          <ChatWindow\r\n            friend={selectedFriend}\r\n            socket={socket}\r\n            isOnline={onlineUsers.has(selectedFriend.id)}\r\n          />\r\n        ) : (\r\n          <div className=\"chat-window\">\r\n            <div className=\"chat-empty-state\">\r\n              <div className=\"chat-empty-icon\">ðŸ’¬</div>\r\n              <h3 className=\"chat-empty-title\">Select a friend to start chatting</h3>\r\n              <p className=\"chat-empty-text\">\r\n                Choose a conversation from the list to begin messaging\r\n              </p>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Chat;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,OAAO,EAAEC,UAAU,QAAQ,oBAAoB;AACxD,SAASC,UAAU,QAAQ,uBAAuB;AAClD,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAO,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAE/B,SAASC,IAAIA,CAAA,EAAG;EAAAC,EAAA;EACd,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACc,cAAc,EAAEC,iBAAiB,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAC1D,MAAM,CAACgB,aAAa,EAAEC,gBAAgB,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAM,CAACkB,OAAO,EAAEC,UAAU,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACoB,MAAM,EAAEC,SAAS,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EAC1C,MAAM,CAACsB,WAAW,EAAEC,cAAc,CAAC,GAAGvB,QAAQ,CAAC,IAAIwB,GAAG,CAAC,CAAC,CAAC;EAEzDvB,SAAS,CAAC,MAAM;IACd;IACA,MAAMwB,SAAS,GAAGrB,UAAU,CAAC,CAAC;IAC9BiB,SAAS,CAACI,SAAS,CAAC;;IAEpB;IACAC,QAAQ,CAAC,CAAC;;IAEV;IACA,IAAID,SAAS,EAAE;MACb,MAAME,gBAAgB,GAAGA,CAAC;QAAEC;MAAO,CAAC,KAAK;QACvCL,cAAc,CAACM,IAAI,IAAI,IAAIL,GAAG,CAAC,CAAC,GAAGK,IAAI,EAAED,MAAM,CAAC,CAAC,CAAC;MACpD,CAAC;MAED,MAAME,iBAAiB,GAAGA,CAAC;QAAEF;MAAO,CAAC,KAAK;QACxCL,cAAc,CAACM,IAAI,IAAI;UACrB,MAAME,OAAO,GAAG,IAAIP,GAAG,CAACK,IAAI,CAAC;UAC7BE,OAAO,CAACC,MAAM,CAACJ,MAAM,CAAC;UACtB,OAAOG,OAAO;QAChB,CAAC,CAAC;MACJ,CAAC;MAED,MAAME,oBAAoB,GAAGA,CAAA,KAAM;QACjCC,OAAO,CAACC,GAAG,CAAC,sBAAsB,CAAC;QACnCC,iBAAiB,CAAC,CAAC;QACnB,IAAIC,MAAM,CAACC,cAAc,EAAE;UACzBD,MAAM,CAACC,cAAc,CAAC,CAAC;QACzB;MACF,CAAC;MAEDb,SAAS,CAACc,EAAE,CAAC,aAAa,EAAEZ,gBAAgB,CAAC;MAC7CF,SAAS,CAACc,EAAE,CAAC,cAAc,EAAET,iBAAiB,CAAC;MAC/CL,SAAS,CAACc,EAAE,CAAC,iBAAiB,EAAEN,oBAAoB,CAAC;MAErD,OAAO,MAAM;QACX,IAAIR,SAAS,EAAE;UACbA,SAAS,CAACe,GAAG,CAAC,aAAa,EAAEb,gBAAgB,CAAC;UAC9CF,SAAS,CAACe,GAAG,CAAC,cAAc,EAAEV,iBAAiB,CAAC;UAChDL,SAAS,CAACe,GAAG,CAAC,iBAAiB,EAAEP,oBAAoB,CAAC;QACxD;MACF,CAAC;IACH;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMP,QAAQ,GAAG,MAAAA,CAAA,KAAY;IAC3BP,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAM,CAACsB,UAAU,EAAEC,gBAAgB,CAAC,GAAG,MAAMC,OAAO,CAACC,GAAG,CAAC,CACvDzC,UAAU,CAAC0C,cAAc,CAAC,CAAC,EAC3B3C,OAAO,CAAC4C,gBAAgB,CAAC,CAAC,CAC3B,CAAC;MAEFjC,UAAU,CAAC4B,UAAU,CAACM,IAAI,CAACnC,OAAO,CAAC;MACnCK,gBAAgB,CAACyB,gBAAgB,CAACK,IAAI,CAAC/B,aAAa,CAAC;IACvD,CAAC,CAAC,OAAOgC,KAAK,EAAE;MACdd,OAAO,CAACc,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC7C,CAAC,SAAS;MACR7B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMiB,iBAAiB,GAAG,MAAAA,CAAA,KAAY;IACpC,IAAI;MACF,MAAMa,QAAQ,GAAG,MAAM/C,OAAO,CAAC4C,gBAAgB,CAAC,CAAC;MACjD7B,gBAAgB,CAACgC,QAAQ,CAACF,IAAI,CAAC/B,aAAa,CAAC;IAC/C,CAAC,CAAC,OAAOgC,KAAK,EAAE;MACdd,OAAO,CAACc,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;IACtD;EACF,CAAC;EAED,MAAME,kBAAkB,GAAIC,MAAM,IAAK;IACrCjB,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAAEgB,MAAM,CAAC;IACvCpC,iBAAiB,CAACoC,MAAM,CAAC;EAC3B,CAAC;EAED,MAAMC,UAAU,GAAIC,SAAS,IAAK;IAChC,MAAMC,IAAI,GAAG,IAAIC,IAAI,CAACF,SAAS,CAAC;IAChC,MAAMG,GAAG,GAAG,IAAID,IAAI,CAAC,CAAC;IACtB,MAAME,MAAM,GAAGD,GAAG,GAAGF,IAAI;IACzB,MAAMI,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACH,MAAM,GAAG,KAAK,CAAC;IAC3C,MAAMI,SAAS,GAAGF,IAAI,CAACC,KAAK,CAACH,MAAM,GAAG,OAAO,CAAC;IAC9C,MAAMK,QAAQ,GAAGH,IAAI,CAACC,KAAK,CAACH,MAAM,GAAG,QAAQ,CAAC;IAE9C,IAAIC,QAAQ,GAAG,CAAC,EAAE,OAAO,UAAU;IACnC,IAAIA,QAAQ,GAAG,EAAE,EAAE,OAAO,GAAGA,QAAQ,OAAO;IAC5C,IAAIG,SAAS,GAAG,EAAE,EAAE,OAAO,GAAGA,SAAS,OAAO;IAC9C,IAAIC,QAAQ,GAAG,CAAC,EAAE,OAAO,GAAGA,QAAQ,OAAO;IAC3C,OAAOR,IAAI,CAACS,kBAAkB,CAAC,CAAC;EAClC,CAAC;EAED,IAAI7C,OAAO,EAAE;IACX,oBACEX,OAAA;MAAKyD,KAAK,EAAE;QAAEC,SAAS,EAAE,QAAQ;QAAEC,OAAO,EAAE;MAAO,CAAE;MAAAC,QAAA,gBACnD5D,OAAA;QAAK6D,SAAS,EAAC;MAAS;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC/BjE,OAAA;QAAGyD,KAAK,EAAE;UAAES,SAAS,EAAE,MAAM;UAAEC,KAAK,EAAE;QAAkB,CAAE;QAAAP,QAAA,EAAC;MAAe;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC3E,CAAC;EAEV;EAEA,oBACEjE,OAAA;IAAK6D,SAAS,EAAC,SAAS;IAAAD,QAAA,gBACtB5D,OAAA;MAAK6D,SAAS,EAAC,gBAAgB;MAAAD,QAAA,gBAC7B5D,OAAA;QAAI6D,SAAS,EAAC,eAAe;QAAAD,QAAA,EAAC;MAAW;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAC9CjE,OAAA;QAAG6D,SAAS,EAAC,kBAAkB;QAAAD,QAAA,EAAC;MAAmC;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpE,CAAC,eAENjE,OAAA;MAAK6D,SAAS,EAAC,gBAAgB;MAAAD,QAAA,gBAE7B5D,OAAA;QAAK6D,SAAS,EAAC,WAAW;QAAAD,QAAA,gBACxB5D,OAAA;UAAK6D,SAAS,EAAC,kBAAkB;UAAAD,QAAA,eAC/B5D,OAAA;YAAI6D,SAAS,EAAC,iBAAiB;YAAAD,QAAA,EAAC;UAAK;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvC,CAAC,eACNjE,OAAA;UAAK6D,SAAS,EAAC,mBAAmB;UAAAD,QAAA,EAC/BvD,OAAO,CAAC+D,MAAM,KAAK,CAAC,gBACnBpE,OAAA;YAAK6D,SAAS,EAAC,aAAa;YAACJ,KAAK,EAAE;cAAEE,OAAO,EAAE;YAAY,CAAE;YAAAC,QAAA,gBAC3D5D,OAAA;cAAK6D,SAAS,EAAC,kBAAkB;cAACJ,KAAK,EAAE;gBAAEY,QAAQ,EAAE;cAAO,CAAE;cAAAT,QAAA,EAAC;YAAE;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CAAC,eACvEjE,OAAA;cAAG6D,SAAS,EAAC,kBAAkB;cAACJ,KAAK,EAAE;gBAAEY,QAAQ,EAAE;cAAW,CAAE;cAAAT,QAAA,EAAC;YAEjE;cAAAE,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAG,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACD,CAAC,GAEN5D,OAAO,CAACiE,GAAG,CAAC,CAAC1B,MAAM,EAAE2B,KAAK,KAAK;YAC7B,MAAMC,YAAY,GAAG/D,aAAa,CAACgE,IAAI,CACrCC,IAAI,IAAIA,IAAI,CAAC9B,MAAM,CAAC+B,EAAE,KAAK/B,MAAM,CAAC+B,EACpC,CAAC;YACD,MAAMC,QAAQ,GAAG7D,WAAW,CAAC8D,GAAG,CAACjC,MAAM,CAAC+B,EAAE,CAAC;YAE3C,oBACE3E,OAAA;cAEE6D,SAAS,EAAE,qBAAqB,CAAAtD,cAAc,aAAdA,cAAc,uBAAdA,cAAc,CAAEoE,EAAE,MAAK/B,MAAM,CAAC+B,EAAE,GAAG,QAAQ,GAAG,EAAE,eAAgB;cAChGlB,KAAK,EAAE;gBAAEqB,cAAc,EAAE,GAAGP,KAAK,GAAG,IAAI;cAAI,CAAE;cAC9CQ,OAAO,EAAEA,CAAA,KAAMpC,kBAAkB,CAACC,MAAM,CAAE;cAAAgB,QAAA,gBAE1C5D,OAAA;gBAAK6D,SAAS,EAAC,qBAAqB;gBAAAD,QAAA,GACjChB,MAAM,CAACoC,QAAQ,CAACC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,EACvCN,QAAQ,iBAAI5E,OAAA;kBAAK6D,SAAS,EAAC;gBAAkB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAClD,CAAC,eACNjE,OAAA;gBAAK6D,SAAS,EAAC,mBAAmB;gBAAAD,QAAA,gBAChC5D,OAAA;kBAAK6D,SAAS,EAAC,mBAAmB;kBAAAD,QAAA,EAAEhB,MAAM,CAACoC;gBAAQ;kBAAAlB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAM,CAAC,EACzDO,YAAY,iBACXxE,OAAA;kBAAK6D,SAAS,EAAC,sBAAsB;kBAAAD,QAAA,EAClCY,YAAY,CAACW;gBAAW;kBAAArB,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OACtB,CACN;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC,eACNjE,OAAA;gBAAK6D,SAAS,EAAC,mBAAmB;gBAAAD,QAAA,EAC/BY,YAAY,iBACXxE,OAAA,CAAAE,SAAA;kBAAA0D,QAAA,gBACE5D,OAAA;oBAAK6D,SAAS,EAAC,mBAAmB;oBAAAD,QAAA,EAC/Bf,UAAU,CAAC2B,YAAY,CAAC1B,SAAS;kBAAC;oBAAAgB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OAChC,CAAC,EACLO,YAAY,CAACY,WAAW,GAAG,CAAC,iBAC3BpF,OAAA;oBAAK6D,SAAS,EAAC,cAAc;oBAAAD,QAAA,EAC1BY,YAAY,CAACY;kBAAW;oBAAAtB,QAAA,EAAAC,YAAA;oBAAAC,UAAA;oBAAAC,YAAA;kBAAA,OACtB,CACN;gBAAA,eACD;cACH;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACE,CAAC;YAAA,GA9BDrB,MAAM,CAAC+B,EAAE;cAAAb,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OA+BX,CAAC;UAEV,CAAC;QACF;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,EAGL1D,cAAc,gBACbP,OAAA,CAACF,UAAU;QACT8C,MAAM,EAAErC,cAAe;QACvBM,MAAM,EAAEA,MAAO;QACf+D,QAAQ,EAAE7D,WAAW,CAAC8D,GAAG,CAACtE,cAAc,CAACoE,EAAE;MAAE;QAAAb,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9C,CAAC,gBAEFjE,OAAA;QAAK6D,SAAS,EAAC,aAAa;QAAAD,QAAA,eAC1B5D,OAAA;UAAK6D,SAAS,EAAC,kBAAkB;UAAAD,QAAA,gBAC/B5D,OAAA;YAAK6D,SAAS,EAAC,iBAAiB;YAAAD,QAAA,EAAC;UAAE;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eACzCjE,OAAA;YAAI6D,SAAS,EAAC,kBAAkB;YAAAD,QAAA,EAAC;UAAiC;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACvEjE,OAAA;YAAG6D,SAAS,EAAC,iBAAiB;YAAAD,QAAA,EAAC;UAE/B;YAAAE,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAG,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACD;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CACN;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACE,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV;AAAC7D,EAAA,CApMQD,IAAI;AAAAkF,EAAA,GAAJlF,IAAI;AAsMb,eAAeA,IAAI;AAAC,IAAAkF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}